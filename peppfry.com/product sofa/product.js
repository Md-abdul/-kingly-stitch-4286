let sofas = [
  {
    id: 26,
    img: "https://ii2.pepperfry.com/media/catalog/product/a/z/494x544/azalea-2-seater-velvet-sofa-in-berry-red-colour-by-amberville-azalea-2-seater-velvet-sofa-in-berry-r-8as4rx.jpg",
    details: "Azalea 2 Seater Velvet Sofa In Berry Red Colour",
    price: 46499,
    discount: "30% Off",
  },
  {
    id: 27,
    img: "https://ii3.pepperfry.com/media/catalog/product/f/i/494x544/fidel-2-seater-velvet-sofa-in-wine-red-colour-by-casacraft-fidel-2-seater-velvet-sofa-in-wine-red-co-yenhpg.jpg",
    details: "Fidel 2 Seater Velvet Sofa In Wine Red Colour",
    price: 36999,
    discount: "30% Off",
  },
  {
    id: 28,
    img: "https://ii1.pepperfry.com/media/catalog/product/f/i/494x544/fidel-1-seater-velvet-sofa-in-wine-red-colour-by-casacraft-fidel-1-seater-velvet-sofa-in-wine-red-co-l6fyxe.jpg",
    details: "Fidel 1 Seater Velvet Sofa In Wine Red Colour",
    price: 29499,
    discount: "30% Off",
  },
  {
    id: 29,
    img: "https://ii2.pepperfry.com/media/catalog/product/b/o/494x544/bonito-2-seater-velvet-sofa-in-berry-red-colour-by-casacraft-bonito-2-seater-velvet-sofa-in-berry-re-wmarao.jpg",
    details: "Bonito 2 Seater Velvet Sofa In Berry Red Colour",
    price: 35999,
    discount: "30% Off",
  },
  {
    id: 30,
    img: "https://ii3.pepperfry.com/media/catalog/product/s/c/494x544/scarlett-1-seater-sofa-in--garnet-red-colour-scarlett-1-seater-sofa-in--garnet-red-colour-vk4qc4.jpg",
    details: "Scarlett 1 Seater Velvet Sofa In Berry Red Colour",
    price: 28499,
    discount: "30% Off",
  },
  {
    id: 31,
    img: "https://ii1.pepperfry.com/media/catalog/product/b/e/494x544/benicio-1-seater-sofa-in-garnet-red-colour---casacraft-by-pepperfry-benicio-1-seater-sofa-in-garnet--f2n3q1.jpg",
    details: "Benicio 1 Seater Velvet Sofa in Berry Red Colour",
    price: 25499,
    discount: "30% Off",
  },
  {
    id: 32,
    img: "https://ii2.pepperfry.com/media/catalog/product/b/o/494x544/bonito-3-seater-velvet-sofa-in-berry-red-colour-by-casacraft-bonito-3-seater-velvet-sofa-in-berry-re-xqsvbq.jpg",
    details: "Bonito 3 Seater Velvet Sofa In Berry Red Colour",
    price: 41499,
    discount: "30% Off",
  },
  {
    id: 33,
    img: "https://ii3.pepperfry.com/media/catalog/product/e/s/494x544/espino-3-seater-velvet-lhs-sectional-sofa-with-lounger-in-wine-red-colour-by-casacraft-espino-3-seat-7mzwfd.jpg",
    details: "Espino 3 Seater Velvet LHS Sectional Sofa with Lounger in",
    price: 81499,
    discount: "30% Off",
  },
  {
    id: 34,
    img: "https://ii1.pepperfry.com/media/catalog/product/s/c/494x544/scarlett-2-seater-velvet-sofa-in-berry-red-colour-by-casacraft-scarlett-2-seater-velvet-sofa-in-berr-cylwsd.jpg",
    details: "Scarlett 2 Seater Velvet Sofa In Berry Red Colour",
    price: 39499,
    discount: "30% Off",
  },
  {
    id: 35,
    img: "https://ii2.pepperfry.com/media/catalog/product/p/e/494x544/pedro-3-seater-lhs-sectional-velvet-sofa-in-navy-blue-colour-by-casacraft-pedro-3-seater-lhs-section-ownoaj.jpg",
    details: "Pedro 3 Seater LHS Sectional Velvet Sofa In Wine Red Colour",
    price: 78499,
    discount: "30% Off",
  },
  {
    id: 36,
    img: "https://ii3.pepperfry.com/media/catalog/product/r/o/494x544/rome-3-seater-sofa-in-pink-colour-by-arra-rome-3-seater-sofa-in-pink-colour-by-arra-zjrzei.jpg",
    details: "Rome 3 Seater Sofa In Pink Colour",
    price: 19467,
    discount: " 30% Off",
  },
  {
    id: 37,
    img: "https://ii1.pepperfry.com/media/catalog/product/f/i/494x544/fidel-lhs-velvet-sectional-sofa-in-wine-red-colour-by-casacraft-fidel-lhs-velvet-sectional-sofa-in-w-xze4ji.jpg",
    details: "Fidel LHS 3 Seater Velvet Sectional Sofa In Wine Red Colour",
    price: 69999,
    discount: "30% Off",
  },
  {
    id: 38,
    img: "https://ii3.pepperfry.com/media/catalog/product/h/i/494x544/hiroto-2-seater-rhs-sofa-in-redish-brown-colour-by-mintwud-hiroto-2-seater-rhs-sofa-in-redish-brown--twslqi.jpg",
    details: "Hiroto 2 Seater RHS Sectional Sofa In Redish Brown Colour",
    price: 38749,
    discount: "30% Off",
  },
  {
    id: 39,
    img: "https://ii1.pepperfry.com/media/catalog/product/h/i/494x544/hiroto-2-seater-lhs-sectional-sofa-in-redish-brown-colour-by-mintwud-hiroto-2-seater-lhs-sectional-s-dy6vee.jpg",
    details: "Hiroto 2 Seater LHS Sectional Sofa in Redish Brown Colour",
    price: 38749,
    discount: "30% Off",
  },
  {
    id: 40,
    img: "https://ii1.pepperfry.com/media/catalog/product/r/o/494x544/rome-1-seater-sofa-in-pink-colour-by-arra-rome-1-seater-sofa-in-pink-colour-by-arra-eg9mkk.jpg",
    details: "Rome 1 Seater Sofa In Pink Colour",
    price: 10713,
    discount: "30% Off",
  },
  {
    id: 41,
    img: "https://ii3.pepperfry.com/media/catalog/product/i/m/494x544/impero-u-shape-velvet-sofa-with-adjustable-headrests-in-plum-purple-colour-impero-u-shape-velvet-sof-ccodzg.jpg",
    details: "Impero U Shape Velvet Sofa With Adjustable Headrests in Plum",
    price: 163304,
    discount: "30% Off",
  },
  {
    id: 42,
    img: "https://ii1.pepperfry.com/media/catalog/product/i/m/494x544/impero-u-shape-velvet-sofa-with-adjustable-headrests-in-wine-red-colour-impero-u-shape-velvet-sofa-w-bjolhs.jpg",
    details: "Impero U Shape Velvet Sofa With Adjustable Headrests in Wine Re",
    price: 163304,
    discount: "30% Off,",
  },
  {
    id: 43,
    img: "https://ii3.pepperfry.com/media/catalog/product/r/a/494x544/raso-lhs-6-seater-sectional-sofa-in-purple-colour-by-febonic-raso-lhs-6-seater-sectional-sofa-in-pur-g3yhb0.jpg",
    details: "Rico LHS 6 Seater Sectional Sofa In Greek Purple Colour",
    price: 53411,
    discount: "30% Off",
  },
  {
    id: 44,
    img: "https://ii1.pepperfry.com/media/catalog/product/c/r/494x544/croma-1-seater-sofa-in-cherry-colour-by-muebles-casa-croma-1-seater-sofa-in-cherry-colour-by-muebles-x2cdbh.jpg",
    details: "Croma 1 Seater Sofa In Cherry Colour",
    price: 13339,
    discount: "10% Off",
  },
  {
    id: 45,
    img: "https://ii3.pepperfry.com/media/catalog/product/r/u/494x544/ruse-2-seater-sofa-in-maroon-colour-by-durian-ruse-2-seater-sofa-in-maroon-colour-by-durian-okfjqb.jpg",
    details: "Ruse 2 Seater Sofa in Ruby Red Colour",
    price: 38160,
    discount: "50% Off",
  },
  {
    id: 46,
    img: "https://ii1.pepperfry.com/media/catalog/product/v/a/494x544/valeria-2-seater-velvet-sofa-in-red-colour-by-casacraft-valeria-2-seater-velvet-sofa-in-red-colour-b-wlmetm.jpg",
    details: "Valeria 2 Seater Velvet Sofa in Red Colour",
    price: 51999,
    discount: " 40% Off",
  },
  {
    id: 47,
    img: "https://ii3.pepperfry.com/media/catalog/product/e/f/494x544/effervescent-3-seater-sofa-in-red-colour-by-dreamzz-furniture-effervescent-3-seater-sofa-in-red-colo-kj4896.jpg",
    details: "Effervescent 3 Seater Sofa In Red Colour",
    price: 39200,
    discount: "20% Off",
  },
  {
    id: 48,
    img: "https://ii2.pepperfry.com/media/catalog/product/l/u/494x544/lucas-3-seater-sofa-in-wine-red-by-spacex-lucas-3-seater-sofa-in-wine-red-by-spacex-q6zitj.jpg",
    details: "Lucas 3 Seater Sofa In Wine Red Colour",
    price: 22438,
    discount: "50% Off",
  },
  {
    id: 49,
    img: "https://ii2.pepperfry.com/media/catalog/product/l/u/494x544/lucas-3-seater-sofa-in-wine-red-by-spacex-lucas-3-seater-sofa-in-wine-red-by-spacex-q6zitj.jpg",
    details: "Lucas 3 Seater Sofa In Wine Red Colour",
    price: 22438,
    discount: "50% Off",
  },
  {
    id: 50,
    img: "https://ii2.pepperfry.com/media/catalog/product/l/u/494x544/lucas-3-seater-sofa-in-wine-red-by-spacex-lucas-3-seater-sofa-in-wine-red-by-spacex-q6zitj.jpg",
    details: "Lucas 3 Seater Sofa In Wine Red Colour",
    price: 22438,
    discount: "50% Off",
  },
];

let Main_Container = document.querySelector(".prodcant"); // Main Container to append data
let cartArr = JSON.parse(localStorage.getItem("cart")) || []; // getting data from localstorage
let total = localStorage.getItem("total") || 0;
function display(arr) {
  Main_Container.innerHTML = null;
  arr.forEach((sofa) => {
    let card = document.createElement("div");
    let img = document.createElement("img");
    let details = document.createElement("h3");
    let price = document.createElement("h4");
    let discount = document.createElement("p");
    let button = document.createElement("button");

    img.src = sofa.img;
    details.innerText = sofa.details;
    price.innerText = `â‚¹ ${sofa.price}`;
    discount.innerText = sofa.discount;
    button.innerText = "Add to cart";
    button.setAttribute("class", "card-btn");
    button.addEventListener("click", () => {
      cartArr.push({ ...sofa, quantity: 1 });
      localStorage.setItem("cart", JSON.stringify(cartArr));
      // total += sofa.price;
      // localStorage.setItem("total", total);
      alert("Product Added to cart");
    });

    card.append(img, details, price, discount, button);
    Main_Container.append(card);
  });
}
display(sofas);

let sorting = document.getElementById("pricesort");
sorting.addEventListener("change", (e) => {
  let sortingdata = e.target.value;
  console.log(sortingdata);
  if (sortingdata === "lth") {
    let x = [...sofas];
    x.sort((a, b) => a.price - b.price);
    console.log(x);
    display(x);
  } else {
    let y = [...sofas];
    y.sort((a, b) => b.price - a.price);
    console.log(y);
    display(y);
  }
});

let offersorting = document.getElementById("offersort");
offersorting.addEventListener("change", (e) => {
  let sortingoffer = e.target.value;
  if (sortingoffer === "lth") {
    let x = [...sofas];
    x.sort((a, b) => a.discount - b.discount);
    console.log(x);
    display(x);
  } else {
    let y = [...sofas];
    y.sort((a, b) => b.price - a.price);
    console.log(y);
    display(y);
  }
});
